{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","src","link","alt","name","onClick","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","type","about","map","Footer","currentYear","Date","getFullYear","ImagePopup","onClose","isOpen","PopupWithForm","title","children","button","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","isLoading","setIsLoading","useEffect","e","preventDefault","placeholder","value","onChange","target","id","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","ConfirmDeletePopup","onDeleteCard","myApi","config","this","_url","url","_headers","headers","path","fetch","then","res","ok","json","Promise","reject","status","_sendData","method","all","getUserInfo","getCards","data","body","JSON","stringify","newCard","cardId","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmDeletePopupOpen","setConfirmDeletePopupOpen","selectedCard","setSelectedCard","selectedCardDelete","setSelectedCardDelete","setCurrentUser","setCards","closeAllPopups","catch","err","console","log","Provider","changeLikeCardStatus","newCards","c","changeUserInfo","addCard","deleteCard","filter","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47095682.chunk.js","sourcesContent":["function Header() {\n    return (\n        <header className=\"header\">\n            <div className=\"header__logo\"></div>\n        </header>\n    );\n}\n\nexport default Header;","import React from \"react\";\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport React from \"react\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardDeleteButtonClassName = (\n        `card__trash ${isOwn ? '' : 'card__trash_invisible'}`\n    );\n\n    const cardLikeButtonClassName = (\n        `card__like ${isLiked ? 'card__like_active' : ''}`\n    );\n\n    function handleCardClick() {\n        onCardClick(card)\n    }\n\n    function handleLikeClick() {\n        onCardLike(card)\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card)\n    }\n\n    return (\n        <li className=\"card\">\n            <img className=\"card__photo\" src={card.link} alt={card.name} onClick={handleCardClick}/>\n            <button className={cardDeleteButtonClassName} aria-label=\"trash\" onClick={handleDeleteClick}/>\n            <div className=\"card__info\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__likes\">\n                    <button className={cardLikeButtonClassName} aria-label=\"like\" onClick={handleLikeClick}/>\n                    <p className=\"card__like-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\"/>\n                    <button className=\"profile__avatar-button\" onClick={onEditAvatar}/>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__text\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit\" onClick={onEditProfile}/>\n                    </div>\n                    <p className=\"profile__description\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}/>\n            </section>\n            <section className=\"elements\">\n                <ul className=\"cards\">\n                    {cards.map((card) => (\n                        <Card\n                            card={card}\n                            onCardClick={onCardClick}\n                            onCardLike={onCardLike}\n                            onCardDelete={onCardDelete}\n                            key={card._id}\n                        />\n                    ))}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","function Footer() {\n    const currentYear = new Date().getFullYear();\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; {currentYear} Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","function ImagePopup({card, onClose}) {\n    return (\n        <div className={`popup popup_scale-photo ${card.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__photo-container\">\n                <button className=\"popup__close-button popup__close-button_photo\" onClick={onClose} type=\"button\"/>\n                <img className=\"popup__photo\" src={card.link} alt={card.name}/>\n                <h2 className=\"popup__photo-title\">{card.name}</h2>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup\n\n","function PopupWithForm({title, name, children, button, isOpen, onClose, onSubmit}) {\n    return (\n        <div className={`popup popup_${name} ${isOpen ? 'popup_opened' : ''}`}>\n            <div className={`popup__container popup__container_${name}`}>\n                <button className={`popup__close-button popup__close-button_${name}`} type=\"button\" onClick={onClose}/>\n                <form\n                    className={`popup__form popup__form_${name}`}\n                    onSubmit={onSubmit}\n                    noValidate>\n                    <h3 className={`popup__title popup__title_${name}`}>{title}</h3>\n                    {children}\n                    <button className=\"popup__submit\"\n                            type=\"submit\">{button}</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm\n\n\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState(currentUser.name);\n    const [description, setDescription] = React.useState(currentUser.about);\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        setIsLoading(true);\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeAbout(e) {\n        setDescription(e.target.value);\n    }\n\n    return (\n       <PopupWithForm\n        name=\"edit\"\n        title=\"Редактировать профиль\"\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        button={isLoading ? \"Сохранение...\" : \"Сохранить\"}>\n            <input\n                className=\"popup__input popup__input_name\"\n                placeholder=\"Имя\"\n                type=\"text\"\n                name=\"name\"\n                value={name || ''}\n                onChange={handleChangeName}\n                id=\"name-field\"\n                minLength=\"2\" maxLength=\"40\" required/>\n            <span className=\"popup__error_visible\" id=\"name-field-error\"/>\n            <input\n                className=\"popup__input popup__input_description\"\n                placeholder=\"Род занятий\"\n                type=\"text\"\n                name=\"about\"\n                value={description || ''}\n                onChange={handleChangeAbout}\n                id=\"description-field\"\n                minLength=\"2\" maxLength=\"200\" required/>\n            <span className=\"popup__error_visible\" id=\"description-field-error\"/>\n    </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n    const avatarRef = React.useRef();\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    function handleChangeAvatar(e) {\n        avatarRef.current.value = e.target.value;\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        setIsLoading(true);\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"new-avatar\"\n            title=\"Обновить аватар\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            button={isLoading ? \"Сохранение...\" : \"Сохранить\"}>\n                <input\n                    className=\"popup__input popup__input_avatar\"\n                    placeholder=\"Ссылка на картинку\"\n                    type=\"url\"\n                    name=\"avatar\"\n                    ref={avatarRef}\n                    onChange={handleChangeAvatar}\n                    id=\"link-of-image\" required\n                />\n                <span className=\"popup__error\" id=\"link-of-image-error\"/>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    React.useEffect(() => {\n        setName('');\n        setLink('');\n    },[isOpen]);\n\n    function handleAddCardName(e) {\n        setName(e.target.value);\n    }\n\n    function handleAddCardLink(e) {\n        setLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        setIsLoading(true);\n\n        onAddPlace({\n            name,\n            link\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"add\"\n            title=\"Новое место\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            button={isLoading ? \"Сохранение...\" : \"Создать\"}>\n                <input className=\"popup__input popup__input_image-title\" placeholder=\"Название\" type=\"text\"\n                       name=\"name\"\n                       value={name}\n                       onChange={handleAddCardName}\n                       id=\"image-title\" minLength=\"2\" maxLength=\"30\" required/>\n                <span className=\"popup__error\" id=\"image-title-error\"/>\n                <input className=\"popup__input popup__input_link-of-image\" placeholder=\"Ссылка на картинку\" type=\"url\"\n                       name=\"link\"\n                       value={link}\n                       onChange={handleAddCardLink}\n                       id=\"link-of-image\" required/>\n                <span className=\"popup__error\" id=\"link-of-image-error\"/>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction ConfirmDeletePopup({ isOpen, onClose, onDeleteCard }) {\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        setIsLoading(true);\n        onDeleteCard();\n    }\n\n    return (\n        <PopupWithForm\n            name=\"delete-photo\"\n            title=\"Вы уверены?\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            button={isLoading ? \"Удаление...\" : \"Да\"}\n        />\n    );\n}\n\nexport default ConfirmDeletePopup","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _sendData(path, headers) {\n        return fetch(`${this._url}${path}`, headers)\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                }\n                return Promise.reject(`Произошла ошибка: ${res.status}`);\n            })\n    }\n\n    getUserInfo() {\n        return this._sendData(\"users/me\", {\n            method: \"GET\",\n            headers: this._headers\n        })\n    }\n\n    getCards() {\n        return this._sendData(\"cards\", {\n            method: \"GET\",\n            headers: this._headers\n        })\n    }\n\n    getStartData() {\n        return Promise.all([\n            this.getUserInfo(),\n            this.getCards()\n        ]);\n    }\n\n    changeUserInfo(data) {\n        return this._sendData(\"users/me\", {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n    }\n\n    addCard(newCard) {\n        return this._sendData(\"cards\", {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: newCard.name,\n                link: newCard.link\n            })\n        })\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return this._sendData(`cards/likes/${cardId}`, {\n            method: isLiked ? 'DELETE' : 'PUT',\n            headers: this._headers\n        });\n    }\n\n    deleteCard(card) {\n        return this._sendData(`cards/${card}`, {\n            method: \"DELETE\",\n            headers: this._headers\n        })\n    }\n\n    changeAvatar(avatar) {\n        return this._sendData('users/me/avatar', {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: avatar.avatar\n            })\n        })\n    }\n\n}\n\nconst myApi = new Api({\n    url: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n    headers: {\n        authorization: '4ce0d8a0-2bf1-4ede-8511-f9af6b75d79f',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default myApi;\n\n\n\n","import React from \"react\";\nimport '../index.css';\nimport Header from '../components/Header';\nimport Main from '../components/Main';\nimport Footer from '../components/Footer';\nimport ImagePopup from '../components/ImagePopup';\nimport EditProfilePopup from '../components/EditProfilePopup';\nimport EditAvatarPopup from '../components/EditAvatarPopup';\nimport AddPlacePopup from '../components/AddPlacePopup';\nimport ConfirmDeletePopup from \"../components/ConfirmDeletePopup\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport myApi from \"../utils/api\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setConfirmDeletePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({link: \"\", name: \"\", isOpen: false});\n  const [selectedCardDelete, setSelectedCardDelete] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n      myApi.getCards()\n          .then((cards) => {\n              setCards(cards);\n          })\n          .catch((err) => console.log(`Упс!: ${err}`))\n  }, []);\n\n  React.useEffect(() => {\n      myApi.getUserInfo()\n          .then(data => {\n              setCurrentUser(data)})\n          .catch((err) => console.log(`Упс!: ${err}`))\n  }, []);\n\n  function handleEditAvatarClick() {\n      setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n      setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n      setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleConfirmDeleteClick(card) {\n      setConfirmDeletePopupOpen(!isConfirmDeletePopupOpen);\n      setSelectedCardDelete(card);\n  }\n\n  function handleCardClick(card) {\n      setSelectedCard({link: card.link, name: card.name, isOpen: true});\n  }\n\n  function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n      myApi.changeLikeCardStatus(card._id, isLiked)\n          .then((newCard) => {\n              const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n              setCards(newCards);\n          })\n          .catch((err) => console.log(`Упс!: ${err}`));\n  }\n\n  function handleCardDelete() {\n      myApi.deleteCard(selectedCardDelete._id)\n          .then(() => {\n              const newCards = cards.filter((c) => c._id !== selectedCardDelete._id);\n              setCards(newCards);\n              setSelectedCardDelete({});\n              closeAllPopups();\n          })\n          .catch((err) => console.log(`Упс!: ${err}`));\n  }\n\n  function handleUpdateUser(data) {\n          myApi.changeUserInfo(data)\n              .then(() => {\n                  setCurrentUser({...currentUser, ...data});\n                  closeAllPopups();\n              })\n              .catch((err) => console.log(`Упс!: ${err}`));\n      }\n\n  function handleUpdateAvatar(avatar) {\n      myApi.changeAvatar(avatar)\n          .then(() => {\n              setCurrentUser({...currentUser, ...avatar});\n              closeAllPopups();\n          })\n          .catch((err) => console.log(`Упс!: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(card) {\n      myApi.addCard(card)\n          .then((newCard) => {\n              setCards([newCard, ...cards]);\n              closeAllPopups();\n          })\n          .catch((err) => console.log(`Упс!: ${err}`));\n  }\n\n  function closeAllPopups() {\n      setIsAddPlacePopupOpen(false);\n      setIsEditProfilePopupOpen(false);\n      setIsEditAvatarPopupOpen(false);\n      setConfirmDeletePopupOpen(false);\n      setSelectedCard({link: \"\", name: \"\", isOpen: false});\n  }\n\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n          <Header/>\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleConfirmDeleteClick}\n          />\n          <Footer/>\n          <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n          />\n          <ImagePopup\n              card={selectedCard}\n              onClose={closeAllPopups}\n          />\n          <ConfirmDeletePopup\n              isOpen={isConfirmDeletePopupOpen}\n              onClose={closeAllPopups}\n              onDeleteCard={handleCardDelete}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n      </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}